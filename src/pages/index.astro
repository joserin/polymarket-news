---
import Layout from '../layouts/Layout.astro';
import BaseApp from '../components/BaseApp.tsx';

let data: any[] = [];
const API_URL = "https://gamma-api.polymarket.com/events?order=volume24hr&ascending=false&closed=false&limit=10";

try {
	
	const response = await fetch(API_URL);
	if (response.ok) {
		data = await response.json();
	}else{
		console.error('Failed to fetch initial data:', response.statusText);
	}
	
} catch (error) {
	console.error('Error fetching initial data:', error);
}

---

<Layout>
	<div class="flex flex-col h-screen w-full bg-slate-900 text-slate-50 
		overflow-hidden font-sans selection:bg-blue-500/30">
		<BaseApp data={data} client:load/>
	</div>
</Layout>
